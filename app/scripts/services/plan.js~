'use strict';

/**
 * @ngdoc service
 * @name dndApp.Plan
 * @description
 * # Plan
 * Service in the dndApp.
 */
angular.module('dndApp')
  .service('Plan', function Plan() {
    // AngularJS will instantiate a singleton by calling "new" on this function
    var planGenerate, planEquip, allLinks;
    return {
      getGenerate: function() {
        if (planGenerate === undefined) {
          planGenerate = [
            { 'score':'Balanced', 
              'str': {'dice': 2, 'type': 6, 'plus': 6}, 
              'dex': {'dice': 2, 'type': 6, 'plus': 6}, 
              'con': {'dice': 2, 'type': 6, 'plus': 6}
            },
            { 'score':'High Strength', 
              'str': {'dice': 0, 'type': 6, 'plus': 18}, 
              'dex': {'dice': 3, 'type': 6, 'plus': 0}, 
              'con': {'dice': 3, 'type': 6, 'plus': 0}
            },
            { 'score':'High Endurance',
              'str': {'dice': 3, 'type': 6, 'plus': 0}, 
              'dex': {'dice': 3, 'type': 6, 'plus': 0}, 
              'con': {'dice': 0, 'type': 6, 'plus': 18}
            },
            { 'score':'High Speed' ,
              'str': {'dice': 3, 'type': 6, 'plus': 3}, 
              'dex': {'dice': 0, 'type': 6, 'plus': 18}, 
              'con': {'dice': 3, 'type': 6, 'plus': 0}
            }
          ];
        }
        return planGenerate;
      },
      getEquip: function() {
        if (planEquip === undefined) {
          planEquip = [
            { 'focus':'Knife', 
              'weapon': {'name':'knife' 'dice': 2, 'type': 6, 'plus': 6}, 
              'dex': {'dice': 2, 'type': 6, 'plus': 6}, 
              'con': {'dice': 2, 'type': 6, 'plus': 6}
            },
            { 'score':'High Strength', 
              'str': {'dice': 0, 'type': 6, 'plus': 18}, 
              'dex': {'dice': 3, 'type': 6, 'plus': 0}, 
              'con': {'dice': 3, 'type': 6, 'plus': 0}
            },
            { 'score':'High Endurance',
              'str': {'dice': 3, 'type': 6, 'plus': 0}, 
              'dex': {'dice': 3, 'type': 6, 'plus': 0}, 
              'con': {'dice': 0, 'type': 6, 'plus': 18}
            },
            { 'score':'High Speed' ,
              'str': {'dice': 3, 'type': 6, 'plus': 3}, 
              'dex': {'dice': 0, 'type': 6, 'plus': 18}, 
              'con': {'dice': 3, 'type': 6, 'plus': 0}
            }
          ];
        }
        return planGenerate;
      },
      put: function(bud) {
        budgetData = bud;
        return BudgetSrv;
      },
      reset: function() {
        budgetData =  [10, 10, 10, 10, 0, 10, 10];
        return BudgetSrv;
      }
    };
  });




    $scope.links = [
      {'view':'Fight', 'link':'/'},
      {'view':'Generate', 'link':'/generate'},
      {'view':'Equip', 'link':'/equip'},
      {'view':'About', 'link':'/about'} ];

    $scope.selectlink = $scope.links[1];
    $scope.go = function(link) {
      if (link.view !== 'Generate') {
        $location.path( link.link );
      }
    };

    $scope.priorities = [
      { 'score':'Balanced', 
        'str': {'dice': 2, 'type': 6, 'plus': 6}, 
        'dex': {'dice': 2, 'type': 6, 'plus': 6}, 
        'con': {'dice': 2, 'type': 6, 'plus': 6}
      },
      { 'score':'High Strength', 
        'str': {'dice': 0, 'type': 6, 'plus': 18}, 
        'dex': {'dice': 3, 'type': 6, 'plus': 0}, 
        'con': {'dice': 3, 'type': 6, 'plus': 0}
      },
      { 'score':'High Endurance',
        'str': {'dice': 3, 'type': 6, 'plus': 0}, 
        'dex': {'dice': 3, 'type': 6, 'plus': 0}, 
        'con': {'dice': 0, 'type': 6, 'plus': 18}
      },
      { 'score':'High Speed' ,
        'str': {'dice': 3, 'type': 6, 'plus': 3}, 
        'dex': {'dice': 0, 'type': 6, 'plus': 18}, 
        'con': {'dice': 3, 'type': 6, 'plus': 0}
      }
    ];
    if ($scope.selectpriority === undefined) {
      $scope.selectpriority = $scope.priorities[0];
    }

    $scope.selection = function(prty) {
      $scope.selectpriority = prty;
    }; 

